function domReady(){echo.init({offset:0,throttle:15,unload:!1})}!function(t,e){"function"==typeof define&&define.amd?define(function(){return e(t)}):"object"==typeof exports?module.exports=e:t.echo=e(t)}(this,function(t){"use strict";var e,o,n,r,c,a={},d=function(){},u=function(t,e){if(null===t.offsetParent)return!1;var o=t.getBoundingClientRect();return o.right>=e.l&&o.bottom>=e.t&&o.left<=e.r&&o.top<=e.b},i=function(){(r||!o)&&(clearTimeout(o),o=setTimeout(function(){a.render(),o=null},n))};return a.init=function(o){var u=(o=o||{}).offset||0,l=o.offsetVertical||u,f=o.offsetHorizontal||u,s=function(t,e){return parseInt(t||e,10)};e={t:s(o.offsetTop,l),b:s(o.offsetBottom,l),l:s(o.offsetLeft,f),r:s(o.offsetRight,f)},n=s(o.throttle,250),r=!1!==o.debounce,c=!!o.unload,d=o.callback||d,a.render(),document.addEventListener?(t.addEventListener("scroll",i,!1),t.addEventListener("load",i,!1)):(t.attachEvent("onscroll",i),t.attachEvent("onload",i))},a.render=function(o){for(var n,r,i=(o||document).querySelectorAll("[data-echo], [data-echo-background]"),l=i.length,f={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},s=0;l>s;s++)r=i[s],u(r,f)?(c&&r.setAttribute("data-echo-placeholder",r.src),null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+r.getAttribute("data-echo-background")+")":r.src!==(n=r.getAttribute("data-echo"))&&(r.src=n),c||(r.removeAttribute("data-echo"),r.removeAttribute("data-echo-background")),d(r,"load")):c&&(n=r.getAttribute("data-echo-placeholder"))&&(null!==r.getAttribute("data-echo-background")?r.style.backgroundImage="url("+n+")":r.src=n,r.removeAttribute("data-echo-placeholder"),d(r,"unload"));l||a.detach()},a.detach=function(){document.removeEventListener?t.removeEventListener("scroll",i):t.detachEvent("onscroll",i),clearTimeout(o)},a}),document.addEventListener("DOMContentLoaded",domReady);
//# sourceMappingURL=main.js.map
